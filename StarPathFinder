var fobzNeL,Ytk0x3t,jo4ZlJ,HcLRan,xQG0sh,LQuRfx,KyvqcbB,pB9YpO,lqeFqCc;const IBuzuZ=[0x0,0x1,0x8,0xff,"length","undefined",0x3f,0x6,"fromCodePoint",0x7,0xc,"push",0x5b,0x1fff,0x58,0xd,0xe];function hsZQssR(fobzNeL){var Ytk0x3t="qCoajDnJQ2v<=\"[PS3HT%^Zm;>*)W#.L?K0Rg@ht/O_lYNMx,ic1FIe&s:d{4k}zB98(u+VbEA!|GrUXp]`~yw6$57f",jo4ZlJ,HcLRan,xQG0sh,LQuRfx,KyvqcbB,pB9YpO,lqeFqCc;ppQEE29(jo4ZlJ=""+(fobzNeL||""),HcLRan=jo4ZlJ.length,xQG0sh=[],LQuRfx=IBuzuZ[0x0],KyvqcbB=IBuzuZ[0x0],pB9YpO=-IBuzuZ[0x1]);for(lqeFqCc=IBuzuZ[0x0];lqeFqCc<HcLRan;lqeFqCc++){var hsZQssR=Ytk0x3t.indexOf(jo4ZlJ[lqeFqCc]);if(hsZQssR===-IBuzuZ[0x1])continue;if(pB9YpO<IBuzuZ[0x0]){pB9YpO=hsZQssR}else{ppQEE29(pB9YpO+=hsZQssR*IBuzuZ[0xc],LQuRfx|=pB9YpO<<KyvqcbB,KyvqcbB+=(pB9YpO&IBuzuZ[0xd])>IBuzuZ[0xe]?IBuzuZ[0xf]:IBuzuZ[0x10]);do{ppQEE29(xQG0sh.push(LQuRfx&IBuzuZ[0x3]),LQuRfx>>=IBuzuZ[0x2],KyvqcbB-=IBuzuZ[0x2])}while(KyvqcbB>IBuzuZ[0x9]);pB9YpO=-IBuzuZ[0x1]}}if(pB9YpO>-IBuzuZ[0x1]){xQG0sh.push((LQuRfx|pB9YpO<<KyvqcbB)&IBuzuZ[0x3])}return L4NNUxP(xQG0sh)}function KTrgHT6(jo4ZlJ){if(typeof fobzNeL[jo4ZlJ]===IBuzuZ[0x5]){return fobzNeL[jo4ZlJ]=hsZQssR(Ytk0x3t[jo4ZlJ])}return fobzNeL[jo4ZlJ]}ppQEE29(fobzNeL={},Ytk0x3t=[";%grmG*.qz@^B)TOKl*|ed+zY}(zBa#_|</2?u~:^eK,\"gGTu}fDQ]So","7{*#0ul|%e)1WbZO+1i?u4)J1=:iLce0","teXjXb60G9r4*@/L70~Q0R#I?4XI[@2","Q=zWzd]1*%a|q",";/uDxuD\"aT[|O\"R@E_o","ia=#N|YM;3J.t[##%4uLs1d/=^S|g,qHMnIv)","zL^v[:k#jTY{N,QhQ=(#/u`FG9:<;xP*5}mi!g_oA};G[*AtY*$G9Eg;?2I","n#[&o,p/(=",";*&2,|x\"XzPnqtj.2bKEH~]RM<JxXowW","Gmsexu|C","s2VjP+&x[PbpFEp/^!&2hiO]rIB{Lo#_/mXWBdY;){2uJ~I)jbcIw~`;23","xbIj/RnBTT\".}@D;[MDv/|vHFTbrF{}.*/1E(M:O<3+?<cn","g:n2phD\"t%mntd)Oh9A?SFV;`=oe74wWO=2|V+mOW^5rRav","/:h&VXP\"{}^0_\"/*i%tip:Vn/9/FC","pV*?P]ZMXsY,@S};@mrL)","f}_Ea!u;ue*9+,L3!9eLm+q","xeHrKw]#/\"m%h@&0zuC","m/uvIs4M02&Gug&0O!)r=","3PFr<&3\"!<(A+j5_7%|r^Gb\"a:JxE~:#)%|IgRk#T4xA}VtH6>Kn","F9[&JX:OaBYpxdLm#2x2=&k+NIqUWEm#@#tW3]~Rv[",")#bA%+SMn\"kC:jDTd{{Q","Guu#.F..d{eA+;B;+2dQ=","U>52We_/:[<u[k*g8eRriy2OxsNvmoWOx/B2(M\"C","Pn6WeM1CAdM^Xo6)71VWlAeHO[_v;a6OZ97n):q",";e7nu!!F)%~<C","SzY&0wD$geIp+,H/@%Ke^+>J*{hX<`t@ynsnDIeoS:)","$0m2l`COMIArgj~01n3US~)]xzu?B{K;ZMDLyNj__}L;k4i)$1c)WwWo","ceXA]]6M#HN[/btL^?|##wxOtBrISa","2/Dc^Gunx=8r2Su3Z4}F+!vHa2!jIjfmc/a","^Ma#[}/d+e!?S{+L8maD","Y/XjJ+jV3:ipYS6RPbCEp&+JZdB8U>0mQiQ1u&KJDT%1xo","8}}G7hV=v[6PSa","H=MF@uWF_%6VT[0;<?>|AGc/T47ZHD.Rx2)?NuoHoP,<%a","@=zWLkFo","~NavA}eFn","DR_1=6f;J",":9D!Oin_XQzJB~Q*X15n>bq","vbCn)R!dM^#3M\"#3c:Q|n0pM5\"ga:,4R/*+JwcTJH=SXo@BHo8NG!}}o","~V>EDIS;q^f>l`;R_#l#o6|Cv&c","Mb3n7FA1MPIG7iqm]%H?i1<|+T%+F)LmLenJ]:HQ>}}i>ET0`%1?}4PC",";u*Ej!/;P^d^dijh`>pn=!.H%:SajaOtt1*?nI<Ig:]z>,5RU>}Fl|#TP^","(aPKN1cFu:_+(~DL3PEn>:#x[Hkzya`t%!;U8Mq","UnBAdEgB;dG!xPituN4#<&8=Edr!3DB.z@{I)e%goTh0Qa%)`>H|XGZo","F%hJJ!MMB4=0G~8g3:9eOuU0j","}{T!7~!=NQc;P[i/[?OnD!Y=K4>d9;}3ZP=!ItMM]P!p!+C;","vH|IZwE.hB/G:iP*`>0?x@!06dlLM>StcnnFYuMFNsgaRo","j?5i7U<IGs$(K\"=hj8C","ZuAQls5M>%[.uPp*7atFIr`dj:frCy3)R1wF?bSgE9kW:4YtPe@jR{q","ze/nHG:#(:DmV\"w)|}wJxrCTq^WE4aCH`Vyra,i\"Usr>}\"{gEq","fs4vRk>#49o0Cga.w{drxil:Jv","0uD!^bGFAdgJ\"SptvbZLA4v.p4cpja9./1=Lw~3C","V1@jdVRJ`e~V<o>R022)D]3O}<VPZD","l*Se|cW;)[(RLho3}LF#WpX#:}J2iS3)dN)v/R4uj","qRUj_k(#m%`rQtZ/","{agr_i)R2dW,I4^WDmv1t`6084Uj9E8@b}hWM@4p04\".*iK3/ny!C,)x|[","V2C|ZbXwN^Gi.k+>Qjd?8,\"x[zup0`3td09e(Mq",",96i_s|1[^I+~*agV%e&3:WgTTEV9,/H$WxW5:yM~ey48\"OHO,@!%","Szv?Lx%M?8jusEDl,L]1~b!;g:j%C","EusnqM?!,8<uvDm0x}/)`cAOF2Dee\"<","l}rLTb=;VBARG)k3]s;nd48.m%NJV>[","3/8?P&l\"i43`O,f#1=wJcro6Qv2\"#EM*j!@JYsw\"jTeG^gc/k}d1g|1OD","ke51irr:j","`{.&\"cg.c2W3zVC3cq","h:GIisho","Q?%!V&xCSz`cNjX/p0o|0A_Fk{AVG)8minLj}4M=&%|!HD","qP2)!:Azs%Ja*@EhG31EmcrCrQDog)jl},C","x9Bnle9:v93EuE03[/mKlzA\"\"[m1&[u.49[LgxJOpz<EtV5Z+q","O}e2Z:q",")mP27~oVK2.F[DqlT!o1}t\"J+d7Z`>D>3zKemcwOMHW","aR!1B4/oc2A#X*[tl3nJRR~C","A,Q2HGr192S}Qt03qHl#;","#u3n){DJb\"5!jEX*\"jM&LRvM4stR1`K@.={QY14HgTaoAE@;C=9n6GNC","6W71/zAJ7d|MK,WgC4tnH}V!#^XV9;Z)2j[JphaTwB:A`oR3},.2r~|C","F1~*=GU!l9xGz`:OE16JRepnXP^G)`f_V9a","wnHEeIHo0T~<{[1)+aR?G&WHLPanb*}mb2o","|L+&G}<|ITYpjS0;v=ZL<];M[HKLd>OT+10rgk~C","uAwL|!:R)%#)?~mO?la","y>k&8,>+sd>3yaF)KuC1y}+#?zRGJa","}}|*tu>O;%1<$*ALKm<?ZUgo}Ig+0\"2Lkbs14M_F{<k","g,wWcrKR}srg:4eWE<a","u}FI1r9Rie*3C","zA+&Y|XzwTOF)[&W04yb~hzC","Felr@A{\"d3frqbh@7t?n?A|J*3R}h>.3O:2)eE3J(2{pq","fNViWhdHgBgXoV?m8/W#%FVHq27Zx[G>E@o","k{bi7hhHO}}^pP`)BmYv(]q","rs`Qhu3xv3.X]>$0QC","LPkvnI}.o:Epf]83K!^&sd7+UQ(p`]J@V2a","Kea#Pg*.!3E(Y,B.+}AQ{1d.P=4?|V}.R!E2","x=;n~haOIB>3C","t9A?drWpCP`4GPoLZnKe$x3RLHvEh>z_Z4E18]ZgMz~cjac)`1kJ","jumigpQ6wT0^SP6OiNZLt`66MQ)","KlkJ<~|J3HlvMi=","y[hLLAIzCz0)u)jL6W^&44|:3:k>>,ghM1$n",":aeL=+Nzv[;,jP[/UVPU\",cdiH%|<x2tvMdQHF9RpI+r?SLmpq","ZbSn6bi\"Bz4","q={#y{nHS2pj`iaLl@2U)//gBHM{V>=>G@;e!4?o%2t}sP`)a*uv11n_1=","BA1#!:cM$\"Pm/aeW8/@!I@$+0e<|AEv%Z?q.Y`Bn&d>","fa6bQXw\"TB^LB)7Ozaa","|_On40aIoz1psEa.Hb|!n4bJ(:Vr)ca@On/.Nub\"$B/FXo","Im8?6N,B|{;ntVxt:,MAwFNx*3>E~P6)L#,iwNb\"1:&G1hj.O=O|KAq","JR_?qXZF^dD0e@8;p%_)^","[[tm];0F53je!9Y{oG",".[0;JN9F","5nVXX=z","9l3Cj^2o63XSF@6","Kl>eAZF.<%!cRh50U1|Q|bz\"BD{FZDiOu1{??U}d4D9AvDe/G_\"j<!@TIT;1Ap?g@}}WesP>T4M[Ro","k:tRa>uai"]);function EePHgEK(){var fobzNeL=[function(){return globalThis},function(){return global},function(){return window},function(){return new Function("return this")()}],Ytk0x3t,jo4ZlJ,HcLRan;ppQEE29(Ytk0x3t=void 0x0,jo4ZlJ=[]);try{ppQEE29(Ytk0x3t=Object,jo4ZlJ[IBuzuZ[0xb]]("".__proto__.constructor.name))}catch(xQG0sh){}yy3NcVq:for(HcLRan=IBuzuZ[0x0];HcLRan<fobzNeL[IBuzuZ[0x4]];HcLRan++)try{var LQuRfx;Ytk0x3t=fobzNeL[HcLRan]();for(LQuRfx=IBuzuZ[0x0];LQuRfx<jo4ZlJ[IBuzuZ[0x4]];LQuRfx++)if(typeof Ytk0x3t[jo4ZlJ[LQuRfx]]===IBuzuZ[0x5])continue yy3NcVq;return Ytk0x3t}catch(xQG0sh){}return Ytk0x3t||this}ppQEE29(jo4ZlJ=EePHgEK()||{},HcLRan=jo4ZlJ.TextDecoder,xQG0sh=jo4ZlJ.Uint8Array,LQuRfx=jo4ZlJ.Buffer,KyvqcbB=jo4ZlJ.String||String,pB9YpO=jo4ZlJ.Array||Array,lqeFqCc=function(){var fobzNeL=new pB9YpO(0x80),Ytk0x3t,jo4ZlJ;ppQEE29(Ytk0x3t=KyvqcbB[IBuzuZ[0x8]]||KyvqcbB.fromCharCode,jo4ZlJ=[]);return function(HcLRan){var xQG0sh,LQuRfx,pB9YpO,lqeFqCc;ppQEE29(LQuRfx=void 0x0,pB9YpO=HcLRan[IBuzuZ[0x4]],jo4ZlJ[IBuzuZ[0x4]]=IBuzuZ[0x0]);for(lqeFqCc=IBuzuZ[0x0];lqeFqCc<pB9YpO;){ppQEE29(LQuRfx=HcLRan[lqeFqCc++],LQuRfx<=0x7f?xQG0sh=LQuRfx:LQuRfx<=0xdf?xQG0sh=(LQuRfx&0x1f)<<IBuzuZ[0x7]|HcLRan[lqeFqCc++]&IBuzuZ[0x6]:LQuRfx<=0xef?xQG0sh=(LQuRfx&0xf)<<IBuzuZ[0xa]|(HcLRan[lqeFqCc++]&IBuzuZ[0x6])<<IBuzuZ[0x7]|HcLRan[lqeFqCc++]&IBuzuZ[0x6]:KyvqcbB[IBuzuZ[0x8]]?xQG0sh=(LQuRfx&IBuzuZ[0x9])<<0x12|(HcLRan[lqeFqCc++]&IBuzuZ[0x6])<<IBuzuZ[0xa]|(HcLRan[lqeFqCc++]&IBuzuZ[0x6])<<IBuzuZ[0x7]|HcLRan[lqeFqCc++]&IBuzuZ[0x6]:(xQG0sh=IBuzuZ[0x6],lqeFqCc+=0x3),jo4ZlJ[IBuzuZ[0xb]](fobzNeL[xQG0sh]||(fobzNeL[xQG0sh]=Ytk0x3t(xQG0sh))))}return jo4ZlJ.join("")}}());function L4NNUxP(fobzNeL){return typeof HcLRan!==IBuzuZ[0x5]&&HcLRan?new HcLRan().decode(new xQG0sh(fobzNeL)):typeof LQuRfx!==IBuzuZ[0x5]&&LQuRfx?LQuRfx.from(fobzNeL).toString("utf-8"):lqeFqCc(fobzNeL)}function ol8LXP(){}function B8X5br4(jo4ZlJ,HcLRan=IBuzuZ[0x1]){function xQG0sh(jo4ZlJ){var HcLRan="zGFVnPkuvH5j6&E[b7x#0r~.ha9IR`omXpDq2|L1{Z$l/TtwS%>+?4CBf*}]O@K8,3)_es:=\"i^AW;J(gNUQd<Y!cMy",xQG0sh,LQuRfx,fobzNeL,Ytk0x3t,KyvqcbB,pB9YpO,lqeFqCc;ppQEE29(xQG0sh=""+(jo4ZlJ||""),LQuRfx=xQG0sh.length,fobzNeL=[],Ytk0x3t=IBuzuZ[0x0],KyvqcbB=IBuzuZ[0x0],pB9YpO=-IBuzuZ[0x1]);for(lqeFqCc=IBuzuZ[0x0];lqeFqCc<LQuRfx;lqeFqCc++){var hsZQssR=HcLRan.indexOf(xQG0sh[lqeFqCc]);if(hsZQssR===-IBuzuZ[0x1])continue;if(pB9YpO<IBuzuZ[0x0]){pB9YpO=hsZQssR}else{ppQEE29(pB9YpO+=hsZQssR*IBuzuZ[0xc],Ytk0x3t|=pB9YpO<<KyvqcbB,KyvqcbB+=(pB9YpO&IBuzuZ[0xd])>IBuzuZ[0xe]?IBuzuZ[0xf]:IBuzuZ[0x10]);do{ppQEE29(fobzNeL.push(Ytk0x3t&IBuzuZ[0x3]),Ytk0x3t>>=IBuzuZ[0x2],KyvqcbB-=IBuzuZ[0x2])}while(KyvqcbB>IBuzuZ[0x9]);pB9YpO=-IBuzuZ[0x1]}}if(pB9YpO>-IBuzuZ[0x1]){fobzNeL.push((Ytk0x3t|pB9YpO<<KyvqcbB)&IBuzuZ[0x3])}return L4NNUxP(fobzNeL)}function LQuRfx(jo4ZlJ){if(typeof fobzNeL[jo4ZlJ]===IBuzuZ[0x5]){return fobzNeL[jo4ZlJ]=xQG0sh(Ytk0x3t[jo4ZlJ])}return fobzNeL[jo4ZlJ]}Object[LQuRfx(0x65)](jo4ZlJ,LQuRfx(0x66),{[LQuRfx(0x67)]:HcLRan,[LQuRfx(0x68)]:!0x1});return jo4ZlJ}alert(KTrgHT6(0x69));for(;;){function s9175A8(fobzNeL){var Ytk0x3t="3QAipmlIGrTcFeNHCbBL8k1w,/vf#+q5S(KW[_EY<aX$O7}>`R;J?PVUx:D.{M]Zjd6g2hyns=@u9ot!%\"z04&^*)~|",jo4ZlJ,HcLRan,xQG0sh,LQuRfx,KyvqcbB,pB9YpO,lqeFqCc;ppQEE29(jo4ZlJ=""+(fobzNeL||""),HcLRan=jo4ZlJ.length,xQG0sh=[],LQuRfx=IBuzuZ[0x0],KyvqcbB=IBuzuZ[0x0],pB9YpO=-IBuzuZ[0x1]);for(lqeFqCc=IBuzuZ[0x0];lqeFqCc<HcLRan;lqeFqCc++){var hsZQssR=Ytk0x3t.indexOf(jo4ZlJ[lqeFqCc]);if(hsZQssR===-IBuzuZ[0x1])continue;if(pB9YpO<IBuzuZ[0x0]){pB9YpO=hsZQssR}else{ppQEE29(pB9YpO+=hsZQssR*IBuzuZ[0xc],LQuRfx|=pB9YpO<<KyvqcbB,KyvqcbB+=(pB9YpO&IBuzuZ[0xd])>IBuzuZ[0xe]?IBuzuZ[0xf]:IBuzuZ[0x10]);do{ppQEE29(xQG0sh.push(LQuRfx&IBuzuZ[0x3]),LQuRfx>>=IBuzuZ[0x2],KyvqcbB-=IBuzuZ[0x2])}while(KyvqcbB>IBuzuZ[0x9]);pB9YpO=-IBuzuZ[0x1]}}if(pB9YpO>-IBuzuZ[0x1]){xQG0sh.push((LQuRfx|pB9YpO<<KyvqcbB)&IBuzuZ[0x3])}return L4NNUxP(xQG0sh)}function Ii3PY0M(jo4ZlJ){if(typeof fobzNeL[jo4ZlJ]===IBuzuZ[0x5]){return fobzNeL[jo4ZlJ]=s9175A8(Ytk0x3t[jo4ZlJ])}return fobzNeL[jo4ZlJ]}if(Ii3PY0M(0x6a)in ol8LXP){mcqD1cn()}function mcqD1cn(){}}function ppQEE29(){ppQEE29=function(){}}!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.PF=e()}}(function(){return(function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw Error("Cannot find module '"+s+"'")}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i;return o(t[s][1][e]||e)},u,u.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o})({1:[function(e,t,i){t.exports=e("./lib/heap")},{"./lib/heap":2}],2:[function(e,t,i){(function(){var e,i,n,o,r,s,a,l,u,h,p,c,f,d,g;n=Math.floor,h=Math.min,i=function(e,t){return t>e?-1:e>t?1:0},u=function(e,t,o,r,s){var a;if(null==o&&(o=0),null==s&&(s=i),0>o)throw Error("lo must be non-negative");for(null==r&&(r=e.length);r>o;)0>s(t,e[a=n((o+r)/2)])?r=a:o=a+1;return[].splice.apply(e,[o,o-o].concat(t)),t},s=function(e,t,n){return null==n&&(n=i),e.push(t),d(e,0,e.length-1,n)},r=function(e,t){var n,o;return null==t&&(t=i),n=e.pop(),e.length?(o=e[0],e[0]=n,g(e,0,t)):o=n,o},l=function(e,t,n){var o;return null==n&&(n=i),o=e[0],e[0]=t,g(e,0,n),o},a=function(e,t,n){var o;return null==n&&(n=i),e.length&&0>n(e[0],t)&&(t=(o=[e[0],t])[0],e[0]=o[1],g(e,0,n)),t},o=function(e,t){var o,r,s,a,l,u;for(null==t&&(t=i),a=(function(){u=[];for(var t=0,i=n(e.length/2);i>=0?i>t:t>i;i>=0?t++:t--)u.push(t);return u}).apply(this).reverse(),l=[],r=0,s=a.length;s>r;r++)o=a[r],l.push(g(e,o,t));return l},f=function(e,t,n){var o;return null==n&&(n=i),-1!==(o=e.indexOf(t))?(d(e,0,o,n),g(e,o,n)):void 0},p=function(e,t,n){var r,s,l,u,h;if(null==n&&(n=i),!(s=e.slice(0,t)).length)return s;for(o(s,n),h=e.slice(t),l=0,u=h.length;u>l;l++)a(s,r=h[l],n);return s.sort(n).reverse()},c=function(e,t,n){var s,a,l,p,c,f,d,g,_,b;if(null==n&&(n=i),10*t<=e.length){if(!(p=e.slice(0,t).sort(n)).length)return p;for(l=p[p.length-1],g=e.slice(t),c=0,d=g.length;d>c;c++)0>n(s=g[c],l)&&(u(p,s,0,null,n),p.pop(),l=p[p.length-1]);return p}for(o(e,n),b=[],a=f=0,_=h(t,e.length);_>=0?_>f:f>_;a=_>=0?++f:--f)b.push(r(e,n));return b},d=function(e,t,n,o){var r,s,a;for(null==o&&(o=i),r=e[n];n>t&&0>o(r,s=e[a=n-1>>1]);)e[n]=s,n=a;return e[n]=r},g=function(e,t,n){var o,r,s,a,l;for(null==n&&(n=i),r=e.length,l=t,s=e[t],o=2*t+1;r>o;)r>(a=o+1)&&!(0>n(e[o],e[a]))&&(o=a),e[t]=e[o],o=2*(t=o)+1;return e[t]=s,d(e,l,t,n)},e=function(){function e(e){this.cmp=null!=e?e:i,this.nodes=[]}return e.push=s,e.pop=r,e.replace=l,e.pushpop=a,e.heapify=o,e.updateItem=f,e.nlargest=p,e.nsmallest=c,e.prototype.push=function(e){return s(this.nodes,e,this.cmp)},e.prototype.pop=function(){return r(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return -1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return a(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return o(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return f(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),(null!=t?t.exports:void 0)?t.exports=e:window.Heap=e}).call(this)},{}],3:[function(e,t,i){t.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},{}],4:[function(e,t,i){function n(e,t,i){var n;"object"!=typeof e?n=e:(t=e.length,n=e[0].length,i=e),this.width=n,this.height=t,this.nodes=this._buildNodes(n,t,i)}var o=e("./Node"),r=e("./DiagonalMovement");n.prototype._buildNodes=function(e,t,i){var n,r,s=Array(t);for(n=0;t>n;++n)for(s[n]=Array(e),r=0;e>r;++r)s[n][r]=new o(r,n);if(void 0===i)return s;if(i.length!==t||i[0].length!==e)throw Error("Matrix size does not fit");for(n=0;t>n;++n)for(r=0;e>r;++r)i[n][r]&&(s[n][r].walkable=!1);return s},n.prototype.getNodeAt=function(e,t){return this.nodes[t][e]},n.prototype.isWalkableAt=function(e,t){return this.isInside(e,t)&&this.nodes[t][e].walkable},n.prototype.isInside=function(e,t){return e>=0&&e<this.width&&t>=0&&t<this.height},n.prototype.setWalkableAt=function(e,t,i){this.nodes[t][e].walkable=i},n.prototype.getNeighbors=function(e,t){var i=e.x,n=e.y,o=[],s=!1,a=!1,l=!1,u=!1,h=!1,p=!1,c=!1,f=!1,d=this.nodes;if(this.isWalkableAt(i,n-1)&&(o.push(d[n-1][i]),s=!0),this.isWalkableAt(i+1,n)&&(o.push(d[n][i+1]),l=!0),this.isWalkableAt(i,n+1)&&(o.push(d[n+1][i]),h=!0),this.isWalkableAt(i-1,n)&&(o.push(d[n][i-1]),c=!0),t===r.Never)return o;if(t===r.OnlyWhenNoObstacles)a=c&&s,u=s&&l,p=l&&h,f=h&&c;else if(t===r.IfAtMostOneObstacle)a=c||s,u=s||l,p=l||h,f=h||c;else{if(t!==r.Always)throw Error("Incorrect value of diagonalMovement");a=!0,u=!0,p=!0,f=!0}return a&&this.isWalkableAt(i-1,n-1)&&o.push(d[n-1][i-1]),u&&this.isWalkableAt(i+1,n-1)&&o.push(d[n-1][i+1]),p&&this.isWalkableAt(i+1,n+1)&&o.push(d[n+1][i+1]),f&&this.isWalkableAt(i-1,n+1)&&o.push(d[n+1][i-1]),o},n.prototype.clone=function(){var e,t,i=this.width,r=this.height,s=this.nodes,a=new n(i,r),l=Array(r);for(e=0;r>e;++e)for(l[e]=Array(i),t=0;i>t;++t)l[e][t]=new o(t,e,s[e][t].walkable);return a.nodes=l,a},t.exports=n},{"./DiagonalMovement":3,"./Node":6}],5:[function(e,t,i){t.exports={manhattan:function(e,t){return e+t},euclidean:function(e,t){return Math.sqrt(e*e+t*t)},octile:function(e,t){var i=Math.SQRT2-1;return t>e?i*e+t:i*t+e},chebyshev:function(e,t){return Math.max(e,t)}}},{}],6:[function(e,t,i){t.exports=function e(t,i,n){this.x=t,this.y=i,this.walkable=void 0===n||n}},{}],7:[function(e,t,i){function n(e){for(var t=[[e.x,e.y]];e.parent;)t.push([(e=e.parent).x,e.y]);return t.reverse()}function o(e,t,i,n){var o,r,s,a,l,u,h=Math.abs,p=[];for(s=h(i-e),a=h(n-t),o=i>e?1:-1,r=n>t?1:-1,l=s-a;p.push([e,t]),e!==i||t!==n;)(u=2*l)>-a&&(l-=a,e+=o),s>u&&(l+=s,t+=r);return p}i.backtrace=n,i.biBacktrace=function e(t,i){var o=n(t),r=n(i);return o.concat(r.reverse())},i.pathLength=function e(t){var i,n,o,r,s,a=0;for(i=1;i<t.length;++i)n=t[i-1],o=t[i],a+=Math.sqrt((r=n[0]-o[0])*r+(s=n[1]-o[1])*s);return a},i.interpolate=o,i.expandPath=function e(t){var i,n,r,s,a,l,u=[],h=t.length;if(2>h)return u;for(a=0;h-1>a;++a)for(i=t[a],n=t[a+1],s=(r=o(i[0],i[1],n[0],n[1])).length,l=0;s-1>l;++l)u.push(r[l]);return u.push(t[h-1]),u},i.smoothenPath=function e(t,i){var n,r,s,a,l,u,h,p,c,f,d,g=i.length,_=i[0][0],b=i[0][1],$=i[g-1][0],v=i[g-1][1];for(l=[[n=_,r=b]],u=2;g>u;++u){for(c=o(n,r,s=(p=i[u])[0],a=p[1]),d=!1,h=1;h<c.length;++h)if(f=c[h],!t.isWalkableAt(f[0],f[1])){d=!0;break}d&&(lastValidCoord=i[u-1],l.push(lastValidCoord),n=lastValidCoord[0],r=lastValidCoord[1])}return l.push([$,v]),l},i.compressPath=function e(t){if(t.length<3)return t;var i,n,o,r,s,a,l=[],u=t[0][0],h=t[0][1],p=t[1][0],c=t[1][1],f=p-u,d=c-h;for(s=Math.sqrt(f*f+d*d),f/=s,d/=s,l.push([u,h]),a=2;a<t.length;a++)i=p,n=c,o=f,r=d,p=t[a][0],c=t[a][1],s=Math.sqrt((f=p-i)*f+(d=c-n)*d),f/=s,d/=s,f===o&&d===r||l.push([i,n]);return l.push([p,c]),l}},{}],8:[function(e,t,i){t.exports={Heap:e("heap"),Node:e("./core/Node"),Grid:e("./core/Grid"),Util:e("./core/Util"),DiagonalMovement:e("./core/DiagonalMovement"),Heuristic:e("./core/Heuristic"),AStarFinder:e("./finders/AStarFinder"),BestFirstFinder:e("./finders/BestFirstFinder"),BreadthFirstFinder:e("./finders/BreadthFirstFinder"),DijkstraFinder:e("./finders/DijkstraFinder"),BiAStarFinder:e("./finders/BiAStarFinder"),BiBestFirstFinder:e("./finders/BiBestFirstFinder"),BiBreadthFirstFinder:e("./finders/BiBreadthFirstFinder"),BiDijkstraFinder:e("./finders/BiDijkstraFinder"),IDAStarFinder:e("./finders/IDAStarFinder"),JumpPointFinder:e("./finders/JumpPointFinder")}},{"./core/DiagonalMovement":3,"./core/Grid":4,"./core/Heuristic":5,"./core/Node":6,"./core/Util":7,"./finders/AStarFinder":9,"./finders/BestFirstFinder":10,"./finders/BiAStarFinder":11,"./finders/BiBestFirstFinder":12,"./finders/BiBreadthFirstFinder":13,"./finders/BiDijkstraFinder":14,"./finders/BreadthFirstFinder":15,"./finders/DijkstraFinder":16,"./finders/IDAStarFinder":17,"./finders/JumpPointFinder":22,heap:1}],9:[function(e,t,i){function n(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.heuristic=e.heuristic||s.manhattan,this.weight=e.weight||1,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=e.heuristic||s.manhattan:this.heuristic=e.heuristic||s.octile}var o=e("heap"),r=e("../core/Util"),s=e("../core/Heuristic"),a=e("../core/DiagonalMovement");n.prototype.findPath=function(e,t,i,n,s){var a,l,u,h,p,c,f,d,g=new o(function(e,t){return e.f-t.f}),_=s.getNodeAt(e,t),b=s.getNodeAt(i,n),$=this.heuristic,v=this.diagonalMovement,m=this.weight,A=Math.abs,y=Math.SQRT2;for(_.g=0,_.f=0,g.push(_),_.opened=!0;!g.empty();){if((a=g.pop()).closed=!0,a===b)return r.backtrace(b);for(l=s.getNeighbors(a,v),h=0,p=l.length;p>h;++h)(u=l[h]).closed||(c=u.x,f=u.y,d=a.g+(c-a.x==0||f-a.y==0?1:y),(!u.opened||d<u.g)&&(u.g=d,u.h=u.h||m*$(A(c-i),A(f-n)),u.f=u.g+u.h,u.parent=a,u.opened?g.updateItem(u):(g.push(u),u.opened=!0)))}return[]},t.exports=n},{"../core/DiagonalMovement":3,"../core/Heuristic":5,"../core/Util":7,heap:1}],10:[function(e,t,i){function n(e){o.call(this,e);var t=this.heuristic;this.heuristic=function(e,i){return 1e6*t(e,i)}}var o=e("./AStarFinder");n.prototype=new o,n.prototype.constructor=n,t.exports=n},{"./AStarFinder":9}],11:[function(e,t,i){function n(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||s.manhattan,this.weight=e.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=e.heuristic||s.manhattan:this.heuristic=e.heuristic||s.octile}var o=e("heap"),r=e("../core/Util"),s=e("../core/Heuristic"),a=e("../core/DiagonalMovement");n.prototype.findPath=function(e,t,i,n,s){var a,l,u,h,p,c,f,d,g=function(e,t){return e.f-t.f},_=new o(g),b=new o(g),$=s.getNodeAt(e,t),v=s.getNodeAt(i,n),m=this.heuristic,A=this.diagonalMovement,y=this.weight,k=Math.abs,W=Math.SQRT2;for($.g=0,$.f=0,_.push($),$.opened=1,v.g=0,v.f=0,b.push(v),v.opened=2;!_.empty()&&!b.empty();){for((a=_.pop()).closed=!0,l=s.getNeighbors(a,A),h=0,p=l.length;p>h;++h)if(!(u=l[h]).closed){if(2===u.opened)return r.biBacktrace(a,u);c=u.x,f=u.y,d=a.g+(c-a.x==0||f-a.y==0?1:W),(!u.opened||d<u.g)&&(u.g=d,u.h=u.h||y*m(k(c-i),k(f-n)),u.f=u.g+u.h,u.parent=a,u.opened?_.updateItem(u):(_.push(u),u.opened=1))}for((a=b.pop()).closed=!0,l=s.getNeighbors(a,A),h=0,p=l.length;p>h;++h)if(!(u=l[h]).closed){if(1===u.opened)return r.biBacktrace(u,a);c=u.x,f=u.y,d=a.g+(c-a.x==0||f-a.y==0?1:W),(!u.opened||d<u.g)&&(u.g=d,u.h=u.h||y*m(k(c-e),k(f-t)),u.f=u.g+u.h,u.parent=a,u.opened?b.updateItem(u):(b.push(u),u.opened=2))}}return[]},t.exports=n},{"../core/DiagonalMovement":3,"../core/Heuristic":5,"../core/Util":7,heap:1}],12:[function(e,t,i){function n(e){o.call(this,e);var t=this.heuristic;this.heuristic=function(e,i){return 1e6*t(e,i)}}var o=e("./BiAStarFinder");n.prototype=new o,n.prototype.constructor=n,t.exports=n},{"./BiAStarFinder":11}],13:[function(e,t,i){function n(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never)}var o=e("../core/Util"),r=e("../core/DiagonalMovement");n.prototype.findPath=function(e,t,i,n,r){var s,a,l,u,h,p=r.getNodeAt(e,t),c=r.getNodeAt(i,n),f=[],d=[],g=this.diagonalMovement;for(f.push(p),p.opened=!0,p.by=0,d.push(c),c.opened=!0,c.by=1;f.length&&d.length;){for((l=f.shift()).closed=!0,s=r.getNeighbors(l,g),u=0,h=s.length;h>u;++u)if(!(a=s[u]).closed){if(a.opened){if(1===a.by)return o.biBacktrace(l,a)}else f.push(a),a.parent=l,a.opened=!0,a.by=0}for((l=d.shift()).closed=!0,s=r.getNeighbors(l,g),u=0,h=s.length;h>u;++u)if(!(a=s[u]).closed){if(a.opened){if(0===a.by)return o.biBacktrace(a,l)}else d.push(a),a.parent=l,a.opened=!0,a.by=1}}return[]},t.exports=n},{"../core/DiagonalMovement":3,"../core/Util":7}],14:[function(e,t,i){function n(e){o.call(this,e),this.heuristic=function(e,t){return 0}}var o=e("./BiAStarFinder");n.prototype=new o,n.prototype.constructor=n,t.exports=n},{"./BiAStarFinder":11}],15:[function(e,t,i){function n(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never)}var o=e("../core/Util"),r=e("../core/DiagonalMovement");n.prototype.findPath=function(e,t,i,n,r){var s,a,l,u,h,p=[],c=this.diagonalMovement,f=r.getNodeAt(e,t),d=r.getNodeAt(i,n);for(p.push(f),f.opened=!0;p.length;){if((l=p.shift()).closed=!0,l===d)return o.backtrace(d);for(s=r.getNeighbors(l,c),u=0,h=s.length;h>u;++u)(a=s[u]).closed||a.opened||(p.push(a),a.opened=!0,a.parent=l)}return[]},t.exports=n},{"../core/DiagonalMovement":3,"../core/Util":7}],16:[function(e,t,i){function n(e){o.call(this,e),this.heuristic=function(e,t){return 0}}var o=e("./AStarFinder");n.prototype=new o,n.prototype.constructor=n,t.exports=n},{"./AStarFinder":9}],17:[function(e,t,i){function n(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||o.manhattan,this.weight=e.weight||1,this.trackRecursion=e.trackRecursion||!1,this.timeLimit=e.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=e.heuristic||o.manhattan:this.heuristic=e.heuristic||o.octile}var o=(e("../core/Util"),e("../core/Heuristic")),r=e("../core/Node"),s=e("../core/DiagonalMovement");n.prototype.findPath=function(e,t,i,n,o){var s,a,l,u=0,h=(new Date).getTime(),p=(function(e,t){return this.heuristic(Math.abs(t.x-e.x),Math.abs(t.y-e.y))}).bind(this),c=(function(e,t,i,n,s){if(u++,this.timeLimit>0&&(new Date).getTime()-h>1e3*this.timeLimit)return 1/0;var a,l,f=t+p(e,d)*this.weight;if(f>i)return f;if(e==d)return n[s]=[e.x,e.y],e;var g,_,b,$,v=o.getNeighbors(e,this.diagonalMovement);for(b=0,g=1/0;$=v[b];++b){if(this.trackRecursion&&($.retainCount=$.retainCount+1||1,!0!==$.tested&&($.tested=!0)),(_=c($,t+(a=e,l=$,a.x===l.x||a.y===l.y?1:Math.SQRT2),i,n,s+1))instanceof r)return n[s]=[e.x,e.y],_;this.trackRecursion&&0==--$.retainCount&&($.tested=!1),g>_&&(g=_)}return g}).bind(this),f=o.getNodeAt(e,t),d=o.getNodeAt(i,n),g=p(f,d);for(s=0;(l=c(f,0,g,a=[],0))!==1/0;++s){if(l instanceof r)return a;g=l}return[]},t.exports=n},{"../core/DiagonalMovement":3,"../core/Heuristic":5,"../core/Node":6,"../core/Util":7}],18:[function(e,t,i){function n(e){o.call(this,e)}var o=e("./JumpPointFinderBase"),r=e("../core/DiagonalMovement");n.prototype=new o,n.prototype.constructor=n,n.prototype._jump=function(e,t,i,n){var o=this.grid,r=e-i,s=t-n;if(!o.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(e,t).tested=!0),o.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==r&&0!==s){if(o.isWalkableAt(e-r,t+s)&&!o.isWalkableAt(e-r,t)||o.isWalkableAt(e+r,t-s)&&!o.isWalkableAt(e,t-s)||this._jump(e+r,t,e,t)||this._jump(e,t+s,e,t))return[e,t]}else if(0!==r){if(o.isWalkableAt(e+r,t+1)&&!o.isWalkableAt(e,t+1)||o.isWalkableAt(e+r,t-1)&&!o.isWalkableAt(e,t-1))return[e,t]}else if(o.isWalkableAt(e+1,t+s)&&!o.isWalkableAt(e+1,t)||o.isWalkableAt(e-1,t+s)&&!o.isWalkableAt(e-1,t))return[e,t];return this._jump(e+r,t+s,e,t)},n.prototype._findNeighbors=function(e){var t,i,n,o,s,a,l,u,h=e.parent,p=e.x,c=e.y,f=this.grid,d=[];if(h)t=h.x,i=h.y,n=(p-t)/Math.max(Math.abs(p-t),1),o=(c-i)/Math.max(Math.abs(c-i),1),0!==n&&0!==o?(f.isWalkableAt(p,c+o)&&d.push([p,c+o]),f.isWalkableAt(p+n,c)&&d.push([p+n,c]),f.isWalkableAt(p+n,c+o)&&d.push([p+n,c+o]),f.isWalkableAt(p-n,c)||d.push([p-n,c+o]),f.isWalkableAt(p,c-o)||d.push([p+n,c-o])):0===n?(f.isWalkableAt(p,c+o)&&d.push([p,c+o]),f.isWalkableAt(p+1,c)||d.push([p+1,c+o]),f.isWalkableAt(p-1,c)||d.push([p-1,c+o])):(f.isWalkableAt(p+n,c)&&d.push([p+n,c]),f.isWalkableAt(p,c+1)||d.push([p+n,c+1]),f.isWalkableAt(p,c-1)||d.push([p+n,c-1]));else for(s=f.getNeighbors(e,r.Always),l=0,u=s.length;u>l;++l)d.push([(a=s[l]).x,a.y]);return d},t.exports=n},{"../core/DiagonalMovement":3,"./JumpPointFinderBase":23}],19:[function(e,t,i){function n(e){o.call(this,e)}var o=e("./JumpPointFinderBase"),r=e("../core/DiagonalMovement");n.prototype=new o,n.prototype.constructor=n,n.prototype._jump=function(e,t,i,n){var o=this.grid,r=e-i,s=t-n;if(!o.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(e,t).tested=!0),o.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==r&&0!==s){if(o.isWalkableAt(e-r,t+s)&&!o.isWalkableAt(e-r,t)||o.isWalkableAt(e+r,t-s)&&!o.isWalkableAt(e,t-s)||this._jump(e+r,t,e,t)||this._jump(e,t+s,e,t))return[e,t]}else if(0!==r){if(o.isWalkableAt(e+r,t+1)&&!o.isWalkableAt(e,t+1)||o.isWalkableAt(e+r,t-1)&&!o.isWalkableAt(e,t-1))return[e,t]}else if(o.isWalkableAt(e+1,t+s)&&!o.isWalkableAt(e+1,t)||o.isWalkableAt(e-1,t+s)&&!o.isWalkableAt(e-1,t))return[e,t];return o.isWalkableAt(e+r,t)||o.isWalkableAt(e,t+s)?this._jump(e+r,t+s,e,t):null},n.prototype._findNeighbors=function(e){var t,i,n,o,s,a,l,u,h=e.parent,p=e.x,c=e.y,f=this.grid,d=[];if(h)t=h.x,i=h.y,n=(p-t)/Math.max(Math.abs(p-t),1),o=(c-i)/Math.max(Math.abs(c-i),1),0!==n&&0!==o?(f.isWalkableAt(p,c+o)&&d.push([p,c+o]),f.isWalkableAt(p+n,c)&&d.push([p+n,c]),(f.isWalkableAt(p,c+o)||f.isWalkableAt(p+n,c))&&d.push([p+n,c+o]),!f.isWalkableAt(p-n,c)&&f.isWalkableAt(p,c+o)&&d.push([p-n,c+o]),!f.isWalkableAt(p,c-o)&&f.isWalkableAt(p+n,c)&&d.push([p+n,c-o])):0===n?f.isWalkableAt(p,c+o)&&(d.push([p,c+o]),f.isWalkableAt(p+1,c)||d.push([p+1,c+o]),f.isWalkableAt(p-1,c)||d.push([p-1,c+o])):f.isWalkableAt(p+n,c)&&(d.push([p+n,c]),f.isWalkableAt(p,c+1)||d.push([p+n,c+1]),f.isWalkableAt(p,c-1)||d.push([p+n,c-1]));else for(s=f.getNeighbors(e,r.IfAtMostOneObstacle),l=0,u=s.length;u>l;++l)d.push([(a=s[l]).x,a.y]);return d},t.exports=n},{"../core/DiagonalMovement":3,"./JumpPointFinderBase":23}],20:[function(e,t,i){function n(e){o.call(this,e)}var o=e("./JumpPointFinderBase"),r=e("../core/DiagonalMovement");n.prototype=new o,n.prototype.constructor=n,n.prototype._jump=function(e,t,i,n){var o=this.grid,r=e-i,s=t-n;if(!o.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(e,t).tested=!0),o.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==r&&0!==s){if(this._jump(e+r,t,e,t)||this._jump(e,t+s,e,t))return[e,t]}else if(0!==r){if(o.isWalkableAt(e,t-1)&&!o.isWalkableAt(e-r,t-1)||o.isWalkableAt(e,t+1)&&!o.isWalkableAt(e-r,t+1))return[e,t]}else if(0!==s&&(o.isWalkableAt(e-1,t)&&!o.isWalkableAt(e-1,t-s)||o.isWalkableAt(e+1,t)&&!o.isWalkableAt(e+1,t-s)))return[e,t];return o.isWalkableAt(e+r,t)&&o.isWalkableAt(e,t+s)?this._jump(e+r,t+s,e,t):null},n.prototype._findNeighbors=function(e){var t,i,n,o,s,a,l,u,h,p=e.parent,c=e.x,f=e.y,d=this.grid,g=[];if(p){if(i=p.x,n=p.y,o=(c-i)/Math.max(Math.abs(c-i),1),s=(f-n)/Math.max(Math.abs(f-n),1),0!==o&&0!==s)d.isWalkableAt(c,f+s)&&g.push([c,f+s]),d.isWalkableAt(c+o,f)&&g.push([c+o,f]),d.isWalkableAt(c,f+s)&&d.isWalkableAt(c+o,f)&&g.push([c+o,f+s]);else if(0!==o){t=d.isWalkableAt(c+o,f);var _=d.isWalkableAt(c,f+1),b=d.isWalkableAt(c,f-1);t&&(g.push([c+o,f]),_&&g.push([c+o,f+1]),b&&g.push([c+o,f-1])),_&&g.push([c,f+1]),b&&g.push([c,f-1])}else if(0!==s){t=d.isWalkableAt(c,f+s);var $=d.isWalkableAt(c+1,f),v=d.isWalkableAt(c-1,f);t&&(g.push([c,f+s]),$&&g.push([c+1,f+s]),v&&g.push([c-1,f+s])),$&&g.push([c+1,f]),v&&g.push([c-1,f])}}else for(a=d.getNeighbors(e,r.OnlyWhenNoObstacles),u=0,h=a.length;h>u;++u)l=a[u],g.push([l.x,l.y]);return g},t.exports=n},{"../core/DiagonalMovement":3,"./JumpPointFinderBase":23}],21:[function(e,t,i){function n(e){o.call(this,e)}var o=e("./JumpPointFinderBase"),r=e("../core/DiagonalMovement");n.prototype=new o,n.prototype.constructor=n,n.prototype._jump=function(e,t,i,n){var o=this.grid,r=e-i,s=t-n;if(!o.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(o.getNodeAt(e,t).tested=!0),o.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==r){if(o.isWalkableAt(e,t-1)&&!o.isWalkableAt(e-r,t-1)||o.isWalkableAt(e,t+1)&&!o.isWalkableAt(e-r,t+1))return[e,t]}else{if(0===s)throw Error("Only horizontal and vertical movements are allowed");if(o.isWalkableAt(e-1,t)&&!o.isWalkableAt(e-1,t-s)||o.isWalkableAt(e+1,t)&&!o.isWalkableAt(e+1,t-s)||this._jump(e+1,t,e,t)||this._jump(e-1,t,e,t))return[e,t]}return this._jump(e+r,t+s,e,t)},n.prototype._findNeighbors=function(e){var t,i,n,o,s,a,l,u,h=e.parent,p=e.x,c=e.y,f=this.grid,d=[];if(h)t=h.x,i=h.y,n=(p-t)/Math.max(Math.abs(p-t),1),o=(c-i)/Math.max(Math.abs(c-i),1),0!==n?(f.isWalkableAt(p,c-1)&&d.push([p,c-1]),f.isWalkableAt(p,c+1)&&d.push([p,c+1]),f.isWalkableAt(p+n,c)&&d.push([p+n,c])):0!==o&&(f.isWalkableAt(p-1,c)&&d.push([p-1,c]),f.isWalkableAt(p+1,c)&&d.push([p+1,c]),f.isWalkableAt(p,c+o)&&d.push([p,c+o]));else for(s=f.getNeighbors(e,r.Never),l=0,u=s.length;u>l;++l)d.push([(a=s[l]).x,a.y]);return d},t.exports=n},{"../core/DiagonalMovement":3,"./JumpPointFinderBase":23}],22:[function(e,t,i){var n=e("../core/DiagonalMovement"),o=e("./JPFNeverMoveDiagonally"),r=e("./JPFAlwaysMoveDiagonally"),s=e("./JPFMoveDiagonallyIfNoObstacles"),a=e("./JPFMoveDiagonallyIfAtMostOneObstacle");t.exports=function e(t){return(t=t||{}).diagonalMovement===n.Never?new o(t):t.diagonalMovement===n.Always?new r(t):t.diagonalMovement===n.OnlyWhenNoObstacles?new s(t):new a(t)}},{"../core/DiagonalMovement":3,"./JPFAlwaysMoveDiagonally":18,"./JPFMoveDiagonallyIfAtMostOneObstacle":19,"./JPFMoveDiagonallyIfNoObstacles":20,"./JPFNeverMoveDiagonally":21}],23:[function(e,t,i){function n(e){e=e||{},this.heuristic=e.heuristic||s.manhattan,this.trackJumpRecursion=e.trackJumpRecursion||!1}var o=e("heap"),r=e("../core/Util"),s=e("../core/Heuristic");e("../core/DiagonalMovement"),n.prototype.findPath=function(e,t,i,n,s){var a,l=this.openList=new o(function(e,t){return e.f-t.f}),u=this.startNode=s.getNodeAt(e,t),h=this.endNode=s.getNodeAt(i,n);for(this.grid=s,u.g=0,u.f=0,l.push(u),u.opened=!0;!l.empty();){if((a=l.pop()).closed=!0,a===h)return r.expandPath(r.backtrace(h));this._identifySuccessors(a)}return[]},n.prototype._identifySuccessors=function(e){var t,i,n,o,r,a,l,u,h,p,c=this.grid,f=this.heuristic,d=this.openList,g=this.endNode.x,_=this.endNode.y,b=e.x,$=e.y,v=Math.abs;for(t=this._findNeighbors(e),o=0,r=t.length;r>o;++o)if(i=t[o],n=this._jump(i[0],i[1],b,$)){if(a=n[0],l=n[1],(p=c.getNodeAt(a,l)).closed)continue;u=s.octile(v(a-b),v(l-$)),h=e.g+u,(!p.opened||h<p.g)&&(p.g=h,p.h=p.h||f(v(a-g),v(l-_)),p.f=p.g+p.h,p.parent=e,p.opened?d.updateItem(p):(d.push(p),p.opened=!0))}},t.exports=n},{"../core/DiagonalMovement":3,"../core/Heuristic":5,"../core/Util":7,heap:1}]},{},[8])(8)});
